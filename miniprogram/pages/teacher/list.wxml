<!-- teacher/list.wxml -->
<view class="container">
  <!-- ËØ≠Ë®ÄÂàáÊç¢ -->
  <view class="language-switch-container">
    <language-switch bind:languagechange="onLanguageChange"></language-switch>
  </view>
  
  <!-- Â§¥ÈÉ® -->
  <view class="header">
    <text class="header-title">{{teachersTitleText}}</text>
  </view>

  <!-- Á≠õÈÄâÊù°‰ª∂ -->
  <view class="filter-bar">
    <view class="filter-item">
      <text class="filter-label">{{danceTypeText}}</text>
      <picker mode="selector" range="{{getDanceTypeOptions()}}" bindchange="switchDanceType">
        <view class="picker-value">
          {{getCurrentDanceTypeText()}}
          <text class="iconfont icon-arrow-down"></text>
        </view>
      </picker>
    </view>
    <view class="filter-item">
      <text class="filter-label">{{storeText}}</text>
      <picker mode="selector" range="{{getStoreOptions()}}" bindchange="switchStore">
        <view class="picker-value">
          {{getCurrentStoreText()}}
          <text class="iconfont icon-arrow-down"></text>
        </view>
      </picker>
    </view>
  </view>

  <!-- ÂØºÂ∏àÂàóË°® -->
  <view class="teacher-list" wx:if="{{!loading && teachers.length > 0}}">
    <view class="teacher-item card card-padding" wx:for="{{teachers}}" wx:key="teacherId" bindtap="navigateToTeacherDetail" data-teacher-id="{{item.teacherId}}">
      <view class="teacher-avatar">
        <image class="avatar-image radius-circle" src="{{item.avatar}}" mode="aspectFill"></image>
      </view>
      <view class="teacher-info">
        <view class="teacher-header">
          <text class="teacher-name">{{item.name}}</text>
          <view class="teacher-rating">
            <text class="rating-stars">{{getRatingStars(item.rating)}}</text>
            <text class="rating-value">{{item.rating}}</text>
          </view>
        </view>
        <view class="teacher-dance-types">
          <text class="dance-type tag tag-primary" wx:for="{{item.danceTypes}}" wx:key="*this" wx:for-item="danceType">{{danceType}}</text>
        </view>
        <view class="teacher-specialties text-small">
          <text>{{specialtiesText}}Ôºö{{item.specialties.join('„ÄÅ')}}</text>
        </view>
        <view class="teacher-meta">
          <text class="meta-item">{{experienceText}} {{item.experience}}</text>
          <text class="meta-item">{{coursesText}} {{item.classCount}} {{sessionsText}}</text>
        </view>
        <view class="teacher-intro text-small">
          <text>{{item.intro}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- Âä†ËΩΩÁä∂ÊÄÅ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading">
      <text>Âä†ËΩΩ‰∏≠...</text>
    </view>
  </view>

  <!-- Á©∫Áä∂ÊÄÅ -->
  <view class="empty-container" wx:if="{{!loading && teachers.length === 0}}">
    <view class="empty">
      <text class="empty-icon">üë®‚Äçüè´</text>
      <text class="empty-text">{{noInfoText}}</text>
    </view>
  </view>

  <!-- Âä†ËΩΩÊõ¥Â§ö -->
  <view class="load-more" wx:if="{{!loading && hasMore}}">
    <view class="load-more-btn {{loadingMore ? 'loading' : ''}}" bindtap="loadMoreTeachers">
      <text wx:if="{{!loadingMore}}">{{loadMoreText}}</text>
      <text wx:else>{{loadingText}}</text>
    </view>
  </view>

  <!-- Ê≤°ÊúâÊõ¥Â§ö -->
  <view class="no-more" wx:if="{{!loading && !hasMore && teachers.length > 0}}">
    <text class="no-more-text">{{noMoreText}}</text>
  </view>
</view>